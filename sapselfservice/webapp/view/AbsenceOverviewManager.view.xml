<mvc:View
    controllerName="sapselfservice.controller.AbsenceOverviewManager"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">

    <App>
        <Page title="Abwesenheiten genehmigen" showNavButton="true"
        navButtonPress=".onNavBack">
            <Table
                items="{absencesModel>/Absences}"
                noData="{absencesModel>/noDataMessage}">
                <headerToolbar>
                    <Toolbar>
                        <Title text="AbwesenheitsantrÃ¤ge (in Bearbeitung)" />
                    </Toolbar>
                </headerToolbar>

                <columns>
                    <!-- Name (Vorname + Nachname) -->
                    <Column>
                        <Text text="Name" />
                    </Column>

                    <!-- Startdatum -->
                    <Column>
                        <Text text="Startdatum" />
                    </Column>

                    <!-- Enddatum -->
                    <Column>
                        <Text text="Enddatum" />
                    </Column>

                    <!-- Status -->
                    <Column>
                        <Text text="Status" />
                    </Column>

                    <!-- Aktionen -->
                    <Column>
                        <Text text="Aktionen" />
                    </Column>
                </columns>

                <items>
                    <ColumnListItem>
                        <cells>
                            <!-- DisplayName -->
                            <ObjectIdentifier title="{absencesModel>DisplayName}" />

                            <!-- Formatiertes Startdatum -->
                            <ObjectIdentifier title="{absencesModel>FormattedStart}" />

                            <!-- Formatiertes Enddatum -->
                            <ObjectIdentifier title="{absencesModel>FormattedEnd}" />

                            <!-- Status -->
                            <ObjectStatus text="{absencesModel>Status}" />

                            <!-- Genehmigen / Ablehnen -->
                            <HBox>
                                <Button
                                    text="Genehmigen"
                                    icon="sap-icon://accept"
                                    press=".onApproveAbsence" />
                                <Button
                                    text="Ablehnen"
                                    icon="sap-icon://decline"
                                    class="sapUiSmallMarginBegin"
                                    press=".onRejectAbsence" />
                            </HBox>
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

            
        </Page>
    </App>
</mvc:View>
